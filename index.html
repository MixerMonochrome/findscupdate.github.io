<!DOCTYPE html>
<html>
  <header>
    <title>SC: Find Update</title>
    <link href="stylish.css" type="text/css" rel="stylesheet">
  </header>

  <body>
    <h1 class = "banner"> Streetcrows: Which Update Am I Looking For?</h1>
    <img src="connecting.png" alt="White text over blue background reading: Connect Visual Link. Connecting..." style="width:50%" class="cent">

    <h2>A tool for your topic-finding needs!</h2>
    <h5>**Current up to Update 0069**</h5>
    

    <p><strong>Instructions:</strong> Check off the topics/characters of the updates you're looking for, then click submit.
      <br>We'll show you a list of the updates (with links!) that include all checked topics.</p>

    <div class = "dcsnBox cent">

      <div class = "topicBox">

<!-- first column of topics -->
        <form>
        <div class = "col">

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Orion" >
          Orion
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Mallory">
          Mallory
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Narrator">
          Narrator
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Narrator(On-Screen)">
          Narrator(On-Screen)
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Quinn">
          Quinn
          </label>
      
          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Crow">
          Crow
          </label>

          <label class = "container">
          <input type = "checkbox" name = "topics[]" value = "Shark">
          Shark
          </label>

          <label class = "container">
          <input type = "checkbox" name = "topics[]" value = "Lykoi">
          Lykoi
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Lioness">
          Lioness
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Bear">
          Bear
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Sparrow">
          Sparrow
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Opossum">
          Opossum
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Bat">
          Bat
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Duck">
          Duck
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Mockingbird">
          Mockingbird
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Orca">
          Orca
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Bluejay">
          Bluejay
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Raccoon">
          Raccoon
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Collie">
          Collie
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Badger">
          Badger
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Cuttlefish">
          Cuttlefish
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Hyena">
          Hyena
          </label>
        </div> <!--close Col1-->
 
<!-- second column of topics -->
   
        <div class = "col">

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Bunny">
          Bunny
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Dodger">
          Dodger
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Rigel">
          Rigel
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Betelgeuse">
          Betelgeuse
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Andromeda">
          Andromeda
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Erinyes">
          Erinyes
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Karis">
          Karis
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Bianca">
          Bianca
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Witch Kid">
          Witch Kid
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Grimen">
          Grimen
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Grim">
          Grim
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Grunts">
          Grunts
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Enca">
          Enca
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Alba">
          Alba
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Aries">
          Aries
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Apis">
          Apis
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Lacerta">
          Lacerta
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Noctua">
          Noctua
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Cancer">
          Cancer
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Lilium">
          Lilium
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Quinn's Wife">
          Quinn's Wife
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Hoatzin">
          Hoatzin
          </label>
        </div> <!--close Col2-->
 
<!-- third column of topics (so many....) -->
 
        <div class = "col">

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Vulture">
          Vulture
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Lynx">
          Lynx
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Mares">
          Mares
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Werewolves">
          Werewolves
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Nebulae">
          Nebulae
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Signal Crows">
          Signal Crows
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Magic Lore">
          Magic Lore
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Ori's Magic">
          Ori's Magic
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Timelines">
          Timelines
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Abberation Spree (Current)">
          Aberration Spree (Current)
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Aberration Spree (Past)">
          Aberration Spree (Past)
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Mallory's Past">
          Mallory's Past
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Gifts">
          Gifts
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Important Blood Things">
          Important Blood Things
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Amulet">
          Amulet
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Gems">
          Gems
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "White-On-Black Text(Not Ori)">
          White-On-Black Text(Not Ori)
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Curfew">
          Curfew
          </label>

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Visual Distortions">
          Visual Distortions
          </label>

          <!-- On Hold 'till I go through and find relevant updates
          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "SysMsg">
          System Messages
          </label> -->

          <label class = "container">
          <input type="checkbox" name = "topics[]" value = "Miscellaneous Info">
          Miscellaneous Info
          </label>

        </div> <!-- close Col3 -->
      </div>  <!-- close topicbox -->
      </form>

      <button type = "button" onclick = "getTopics()">Search Relevant Updates</button>

    </div> <!-- close dcsnBox -->

    <div class = "results">
      <p><br><strong>Relevant Updates:</strong></p>
      <div class = "resBox cent">
        <p id = "relUp"></p>
      </div> <!--close resBox-->
    </div> <!--close results-->

    <br> <!--that good good bufferspace-->

<!-- actual function stuff heck yeah!!!!! -->
<!-- ==================================== -->
    <script>
      var Orion = [1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 27, 28, 35, 36, 37, 38, 39,
                   40, 41, 42, 43, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69];
      var Mallory = [7, 8, 9, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 31, 32, 33, 34, 43, 44, 45, 46, 47,
                     48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 63];
      var Narrator = [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 25, 26, 27, 28,
                      29, 34, 35, 36, 37, 38, 39, 41, 42, 43, 48, 51, 52, 55, 56, 57, 58, 59, 60, 61, 63, 64,
                      65, 66, 67, 68, 69];
      var NarOnScreen = [7, 25, 41, 42, 48, 51, 58, 60, 61, 65, 66, 67, 69];
      var Quinn = [6, 7, 8, 9, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 31, 32, 33, 34, 43, 44, 45, 46, 47,
                   48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 63];
      var Crow = [12, 13, 16, 17, 18, 19, 27, 28, 29, 31, 32, 33, 34, 44, 50, 60, 61, 62];
      var Shark = [14, 15, 16, 19, 35, 43, 58, 59, 60, 61, 62];
      var Lykoi = [4, 10, 13, 19, 24, 32, 46, 50, 51, 62];
      var Lioness = [1, 2, 3, 5, 6, 7, 9, 10, 11, 12, 13, 16, 17, 18, 19, 35, 36, 38, 39, 40, 41, 42, 43];
      var Bear = [1, 2, 3, 4, 5, 6, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 39, 40, 41, 42];
      var Sparrow = [19, 39, 40, 41, 42, 43];
      var Opossum = [11, 17, 18, 19, 25, 26, 27, 50, 69];
      var Bat = [19, 25, 26, 27, 50];
      var Duck = [19, 25, 26, 27, 50];
      var Mockingbird = [25, 26, 27, 28, 35, 50, 69];
      var Orca = [14, 15, 16, 17, 18, 19, 37];
      var Bluejay = [9, 10, 11, 12, 13, 19, 20, 21, 30, 31, 32, 34, 46, 47, 51, 55, 57, 58, 60, 63];
      var Raccoon = [34, 51, 63];
      var Collie = [11, 19, 20, 29, 30, 31, 41, 48, 51, 61, 69];
      var Badger = [51, 63];
      var Cuttlefish = [51];
      var Hyena = [14, 15, 16, 35, 36, 37, 38, 39, 40, 41, 42, 43, 58, 59, 60, 61, 62];
      var Bunny = [5, 14, 16, 17, 18, 19, 35, 69];
      var Dodger = [22, 23, 24, 46, 47, 51];
      var Rigel = [11, 12, 35, 39, 40, 60, 61, 62, 66, 67, 69];
      var Betelgeuse = [11, 14, 35, 38, 41, 42, 64, 65, 66, 67, 68, 69];
      var Andromeda = [64, 65, 66, 67];
      var Erinyes = [42, 55, 56];
      var Karis = [45, 46, 47, 50, 55, 57, 63];
      var Bianca = [54, 55, 56, 57, 63];
      var WitchKid = [53, 54];
      var Grimen = [42, 50, 51, 54, 66, 67];
      var Grim = [42, 50, 51, 63, 64, 66];
      var Grunts = [51];
      var Enca = [19, 30, 31];
      var Alba = [19, 29, 30, 31, 51];
      var Aries = [31, 32, 33, 34, 44];
      var Apis = [30, 31];
      var Lacerta = [31];
      var Noctua = [31];
      var Cancer = [31];
      var Lilium = [31, 48, 51];
      var QuinnWife = [26, 46, 47];
      var Hoatzin = [21, 22, 47];
      var Vulture = [21, 22, 47];
      var Lynx = [22, 47];
      var Mares = [46, 50, 51];
      var Werewolves = [8, 13, 19, 28, 33, 46, 50, 51];
      var Nebulae = [30, 31, 32, 33, 34, 44, 48, 51];
      var SigCrows = [6, 25, 31, 47, 48];
      var MagLore = [11, 15, 17, 39, 40, 50, 51, 58, 59];
      var OrMag = [11, 12, 38, 39, 40, 41, 59, 60, 65, 68];
      var Timelines = [7, 25, 61];
      var AbSprCur = [8, 9, 11, 21, 26, 32, 46, 47, 48, 49, 56, 63];
      var AbSprPst = [8, 9, 44, 47, 66];
      var MalPst = [9, 21, 22, 25, 32, 44, 46, 47, 48, 55, 57, 58, 63];
      var Gifts = [7, 8, 10, 11, 15, 16, 18, 24, 29, 37, 38, 39, 40, 47, 54, 56, 57, 58, 61];
      var ImpBlood = [11, 30, 38, 66];
      var Amulet = [64, 65, 66, 67];
      var Gems = [3, 7, 11, 12, 15, 17, 18, 26, 31, 50, 51, 54, 61];
      var WOBText = [7, 10, 11, 16, 17, 30, 32, 33, 39, 49, 51, 57, 62, 64, 65];
      var Curfew = [24, 63];
      var VisDist = [20, 21, 22, 29, 31, 47, 49, 51, 56, 57, 61, 62, 63, 65, 66, 67];
      <!-- var SysMsg = []; -->
      var MiscInfo = [7, 24, 29, 30, 33, 47, 49, 62, 63, 69];

      var topName = ["Orion","Mallory","Narrator","Narrator(On-Screen)","Quinn","Crow","Shark",
                     "Lykoi","Lioness","Bear","Sparrow","Opossum","Bat","Duck","Mockingbird",
                     "Orca","Bluejay","Raccoon","Collie","Badger","Cuttlefish","Hyena",
                     "Bunny","Dodger","Rigel","Betelgeuse","Andromeda","Erinyes","Karis","Bianca",
                     "Witch Kid","Grimen","Grim","Grunts","Enca","Alba","Aries","Apis","Lacerta",
                     "Noctua","Cancer","Lilium","Quinn's Wife","Hoatzin","Vulture","Lynx","Mares",
                     "Werewolves","Nebulae","Signal Crows","Magic Lore","Ori's Magic","Timelines","Aberration Spree Current",
                     "Aberration Spree Past","Mallory's Past","Gifts","Important Blood Things","Amulet","Gems","White-On-Black Text(Not Ori)","Curfew",
                     "Visual Distortions", "Miscellaneous Info"];

      var topUpdates = [Orion, Mallory, Narrator, NarOnScreen, Quinn, Crow, Shark, Lykoi, Lioness,
                        Bear, Sparrow, Opossum, Bat, Duck, Mockingbird, Orca, Bluejay, Raccoon,
                        Collie, Badger, Cuttlefish, Hyena, Bunny, Dodger, Rigel, Betelgeuse,
                        Andromeda, Erinyes, Karis, Bianca, WitchKid, Grimen, Grim, Grunts, Enca,
                        Alba, Aries, Apis, Lacerta, Noctua, Cancer, Lilium, QuinnWife, Hoatzin,
                        Vulture, Lynx, Mares, Werewolves, Nebulae, SigCrows, MagLore, OrMag,
                        Timelines, AbSprCur, AbSprPst, MalPst, Gifts, ImpBlood, Amulet, Gems,
                        WOBText, Curfew, VisDist, MiscInfo];


    function getTopics(){
      var allTopics = document.forms[0];
      var i = 0;
      var j = 0;
      var relTops = [];
      var updates = [];
      for(i = 0; i < allTopics.length; i++){
        if(allTopics[i].checked == true){
          relTops.push(allTopics[i].value);
        }
      }

      if(relTops.length == 0){
        document.getElementById("relUp").innerHTML = "No Topic Selected";
      }

      else{
        while(j < topName.length){
          if(relTops[0] == topName[j]){
            updates = topUpdates[j].slice();
            break;
          }
          else{
            j++;
          }
        }


        if(relTops.length > 1){
          for(i = 0; i < relTops.length && updates.length != 0; i++){
            while (j < topName.length){
              if(relTops[i] == topName[j]){
                merge(updates,topUpdates[j]);
                break;
              }
              else{
                j++;
              }
            }
          }
        }

        if(updates != 0){
          document.getElementById("relUp").innerHTML = "Update(s) Containing Topic(s): " + nicely(relTops) + "<br>" + linkUpdates(updates);
        }
        else{
          document.getElementById("relUp").innerHTML = "No Relevant Updates Containing Topics: " + 
nicely(relTops);
        }
      }
    }

    function merge(original, toCheck){
      var i = 0;
      var placement = 0;
        for( i = 0; i < original.length && i <= toCheck.length; i++){
          placement = toCheck.indexOf(original[i]);
          if(placement == -1){
            original.splice(i,1);
            i--;
          }
       }
    }

    function nicely(toList){
      if(toList.length > 2){
        var i = 0;
        var frmtd = "";
        for(i = 0; i < toList.length - 1; i++){
         frmtd += toList[i] + ", ";
        }
        frmtd += "and " + toList[toList.length-1];
      }
      else if (toList.length == 2){
        frmtd = toList[0] + " and " + toList[1];
      }
      else {
        frmtd = toList[0];
      }
      return frmtd;
    }

    function linkUpdates(toLink){
      var i = 0;
      var endText = "";
      var temp = "";
      var linkText = "";
      for(i = 0; i < toLink.length; i++){
        if(toLink[i] < 10){
          temp += "000" + toLink[i];
        }
        else if(toLink[i] < 100){
          temp += "00" + toLink[i];
        }
        else if(toLink[i] < 1000){
          temp += "0" + toLink[i];
        }
        else{
          temp += toLink[i];
        }

        
        linkText = '<a href = "https://www.dieselhands.com/sc/' + temp + '" target = "_blank">' + temp + '</a>';
        endText += linkText + "&emsp;&emsp;";
        temp = "";
      }

      return endText;       
    }

    </script>
  </body>
  
  <footer>
    <h5>Background from <a href = "https://www.dieselhands.com/sc/0062">Update 0062</a> of <a href = "https://www.dieselhands.com/streetcrows">Streetcrows</a></h5>
  </footer>

</html>
